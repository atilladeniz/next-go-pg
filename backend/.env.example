# =============================================================================
# Environment Configuration
# =============================================================================
# This file serves as documentation AND validation source.
# Format: KEY=default_value
# Comments with @tags define validation rules:
#   @required         - Required in all environments
#   @required:prod    - Required only in production
#   @type:enum        - Must be one of the values after the pipe
#   @type:port        - Must be valid port 1-65535
#   @type:url         - Must be valid URL
#   @type:https       - Must be HTTPS in production
#   @type:secret      - Secret value (add @min:N for minimum length)
#   @type:sslmode     - Valid PostgreSQL SSL mode
#   @min:N            - Minimum length for secrets
# =============================================================================

# -----------------------------------------------------------------------------
# Core Application
# -----------------------------------------------------------------------------

# @required @type:enum|development,staging,production
# Application environment
ENVIRONMENT=development

# @required @type:port
# HTTP server port
PORT=8080

# @required @type:enum|trace,debug,info,warn,error,fatal
# Logging verbosity level
LOG_LEVEL=info

# @required @type:https
# Frontend application URL (used for CORS)
FRONTEND_URL=http://localhost:3000

# -----------------------------------------------------------------------------
# Security
# -----------------------------------------------------------------------------

# @required:prod @type:secret @min:32
# Secret key for JWT token signing (must match frontend GO_JWT_SECRET)
# ⚠️  NEVER use this default in production!
GO_JWT_SECRET=INSECURE_DEV_ONLY_REPLACE_IN_PRODUCTION_32

# @required:prod @type:secret @min:16
# Secret for webhook authentication from frontend
# ⚠️  NEVER use this default in production!
WEBHOOK_SECRET=INSECURE_DEV_ONLY

# -----------------------------------------------------------------------------
# Database
# -----------------------------------------------------------------------------

# Database host
DB_HOST=localhost

# Database port
DB_PORT=5432

# Database user
DB_USER=postgres

# @required:prod
# Database password
DB_PASSWORD=postgres

# Database name
DB_NAME=nextgopg

# @required @type:sslmode
# Database SSL mode (disable in dev, require/verify-full in prod)
DB_SSL_MODE=disable

# Maximum open connections
DB_MAX_OPEN_CONNS=25

# Maximum idle connections
DB_MAX_IDLE_CONNS=25

# Connection max lifetime (Go duration format)
DB_MAX_LIFETIME=5m

# -----------------------------------------------------------------------------
# Server Timeouts
# -----------------------------------------------------------------------------

# HTTP read timeout (Go duration format)
SERVER_READ_TIMEOUT=10s

# HTTP write timeout (Go duration format)
SERVER_WRITE_TIMEOUT=10s

# HTTP idle timeout (Go duration format)
SERVER_IDLE_TIMEOUT=60s

# -----------------------------------------------------------------------------
# Logging
# -----------------------------------------------------------------------------

# Anonymize IP addresses in logs (GDPR compliance)
LOG_ANONYMIZE_IPS=false

# Include file:line in log output
LOG_WITH_CALLER=false

# Loki URL for log aggregation (optional)
# LOKI_URL=http://localhost:3100/loki/api/v1/push

# -----------------------------------------------------------------------------
# Email (SMTP)
# -----------------------------------------------------------------------------

# SMTP server host
SMTP_HOST=127.0.0.1

# SMTP server port
SMTP_PORT=1025

# From address for emails
SMTP_FROM=noreply@localhost

# -----------------------------------------------------------------------------
# Frontend Integration
# -----------------------------------------------------------------------------

# Public app URL (used in emails)
NEXT_PUBLIC_APP_URL=http://localhost:3000
